<div class="row">
	<div class="col-lg-12">
		<ul id="rolePowerTree" class="ztree"></ul>
	</div>
</div>
<script type="text/javascript">
	var role_privilege = "#(roleInfo.power_path)";
	$(function() {
		var nodeList = [], obj = {}, powerInfoList = #(powerInfoList), nodeObj = {};
		nodeList.push({ id : 0, pId : 0, name : "全选", open : true });
		for(var i=0; i<powerInfoList.length; i++) {
			obj = powerInfoList[i];
			nodeObj = {
				id : obj.id,
				pId : obj.power_pid,
				name : obj.power_name,
				open : true
			};
			if(role_privilege.indexOf(","+obj.id+",") > -1) {
				nodeObj["checked"] = true;
			}
			if(false) {
				nodeObj["chkDisabled"] = true;
			}
			nodeList.push(nodeObj);
		}
		var setting = {
			check: {
				enable: true
			},
			data: {
				simpleData: { enable: true }
			}
		};
		$.fn.zTree.init($("#rolePowerTree"), setting, nodeList);
	});
</script>

